<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skill Tasks</title>
    <link rel="stylesheet" href="/css/style.css">
    <style>

        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }

        body {
            padding-bottom: 50px;
        }

        h2 {
            color: rgb(77, 73, 73);
        }
    
        .skillDescription {
            text-align: center;
        }
    
        .skillsPage {
            width: 50%;
            min-height: 100%;
            margin-bottom: 20px;
            background-color: rgb(255, 255, 255);
            margin: 20px auto;
            padding: 20px;
            box-shadow: 0 0 5px rgb(158, 143, 143);
        }

        .skillResources ul {
            padding-left: 20px;
        }
    
        .skillsInfo {
            flex-grow: 1;
        }

        .skillEvidence {
            display: none;
        }

        .sendButton{
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 10px;
        }

        button{
            background-color: rgb(61, 187, 39);
            color: white;
            border: none;
            cursor: pointer;
            margin-top: 10px;
            height: 30px;
            width: 130px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 5px;
        }

        #evidence {
            max-width: 600px;
        }
        table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
    font-family: Arial, sans-serif;
  }

  th, td {
    padding: 12px;
    text-align: left;
    border-bottom: 1px solid #000;
    border-top: 1px solid #000;
  }

  th {
    background-color: #f8f9fa;
    font-weight: bold;
    border-right: 1px solid #000;
    border-left: 1px solid #000;
  }

  td {
    border-right: 1px solid #000;
    border-left: 1px solid #000;
  }

  .actions {
    display: flex;
    justify-content: flex-end;
  }

  .approve-btn {
    background-color: #78b13f;
    color: white;
    border: none;
    padding: 6px 12px;
    border-radius: 4px;
    cursor: pointer;
    margin-right: 5px;
  }

  .reject-btn {
    background-color: #d9534f;
    color: white;
    border: none;
    padding: 6px 12px;
    border-radius: 4px;
    cursor: pointer;
  }
    </style>
</head>

<body>
    <!-- Skill informazioentzako orria -->
    <div class="skillsPage">
        <h1>Skill: <%= text %></h1>

        <!-- Skill hexagonoa -->
        <div style="display: flex; gap: 30px;">
            <div class="svg-wrapper" data-id="<%= id %>" data-custom="false">
                <svg width="100" height="100" viewBox="0 0 100 100">
                    <polygon points="50,5 95,27.5 95,72.5 50,95 5,72.5 5,27.5" class="hexagon" />
                    <text x="50%" y="20%" text-anchor="middle" fill="black" font-size="9">
                        <% text.split('\n\n\n').forEach(line => { %>
                            <tspan x="50%" dy="1.2em" font-weight="bold" ><%= line %></tspan>
                        <% }); %>
                    </text>
                    <image x="35%" y="60%" width="30" height="30" href="/icons/<%= icon %>"/>
                </svg>
            </div>

            <!-- Skill bakoitzaren informazio div-a -->
            <div class="skillsInfo">
                <h2>Skill Score: 1 point</h2>
                <!-- Skill-aren deskripzioa -->
                <div class="skillDescription">
                    <h2>Description</h2>
                    <p>
                        <%= description %>
                    </p>
                </div>
                <!-- Skill-aren zereginak -->
                <div class="skillTasks">
                    <h2>Tasks to complete</h2>
                        <% tasks.forEach(function(task, index) { %>
                            <div class="task-item">
                                <input type="checkbox" id="task-<%= index %>">
                                <label for="task-<%= index %>"><%= task %></label>
                            </div>
                        <% }); %>
                </div>
                <!-- Skill-a osatua ebidentzia -->
                <div class="skillEvidence">
                    <h2>Provide Evidence</h2>
                    <form method="POST">
                        <input type="hidden" name="skillId" value="<%= id %>">
                        <textarea name="evidence" id="evidence" cols="83" rows="4"
                         placeholder="Enter a URL or explanation as evidence for completing this skill"></textarea>
                        <div class="sendButton">
                            <button id="submitButton" type="button">Submit Evidence</button>
                        </div>
                </div>
                <!-- Skill-ean erabilitako baliabideak -->
                <div class="skillResources">
                    <h2>Resources</h2>
                    <ul>
                        <% resources.forEach(function(resource) { %>
                            <li>
                                <%= resource %>
                            </li>
                        <% }); %>
                    </ul>
                </div>
                <!--Unverified evidence submission-->
                <div class="unverifiedEvidence">
                    <h2>Unverified Evidence Submissions</h2>
                    <!--Create table with User, Evidence and Actions as header parameters-->
                    <table>
                        <thead>
                            <th>User</th>
                            <th>Evidence</th>
                            <th>Actions</th>
                        </thead>
                        <!--let the body with no parameters-->
                        <tbody>
                        </tbody>
            </div>
        </div>
    </div>
    <script src="/js/tasks.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
</body>

</html>
